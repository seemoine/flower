{"ast":null,"code":"var _jsxFileName = \"/home/jacob/Documents/Programming/myApp/src/dapp/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { useService } from \"@xstate/react\";\nimport { Banner } from \"./components/ui/HalveningBanner\";\nimport { service } from \"./machine\";\nimport { Charity, Connecting, Welcome, Creating, Saving, Error, TimerComplete, Unsupported, SaveError, GasWarning } from \"./components/modals\";\nimport Farm from \"./components/farm/Farm\";\nimport \"./App.css\";\nimport { Crafting } from \"./components/modals/Crafting\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const App = () => {\n  _s();\n\n  const [machineState, send] = useService(service);\n  React.useEffect(() => {\n    if (window.ethereum) {\n      window.ethereum.on(\"networkChanged\", () => {\n        console.log(\"Network changed\");\n        send(\"NETWORK_CHANGED\");\n      });\n      window.ethereum.on(\"accountsChanged\", function (accounts) {\n        send(\"ACCOUNT_CHANGED\");\n      });\n    }\n  }, [send]);\n\n  const getStarted = () => {\n    send(\"GET_STARTED\");\n  };\n\n  const createFarm = donation => {\n    send(\"DONATE\", {\n      donation: {\n        charity: donation.charity,\n        value: donation.value\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(Farm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"loading\"),\n        children: /*#__PURE__*/_jsxDEV(Connecting, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"unsupported\"),\n        children: /*#__PURE__*/_jsxDEV(Unsupported, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"initial\"),\n        children: /*#__PURE__*/_jsxDEV(Welcome, {\n          onGetStarted: getStarted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"registering\"),\n        children: /*#__PURE__*/_jsxDEV(Charity, {\n          onSelect: createFarm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"creating\"),\n        children: /*#__PURE__*/_jsxDEV(Creating, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"confirming\") || machineState.matches(\"upgrading\") || machineState.matches(\"rewarding\") || machineState.matches(\"collecting\"),\n        children: /*#__PURE__*/_jsxDEV(Saving, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"crafting\"),\n        children: /*#__PURE__*/_jsxDEV(Crafting, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"timerComplete\"),\n        children: /*#__PURE__*/_jsxDEV(TimerComplete, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"failure\"),\n        children: /*#__PURE__*/_jsxDEV(Error, {\n          code: machineState.context.errorCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"warning\"),\n        children: /*#__PURE__*/_jsxDEV(GasWarning, {\n          gasPrice: machineState.context.gasPrice,\n          supply: machineState.context.blockChain.totalSupply(),\n          action: machineState.context.blockChain.isUnsaved() ? \"SYNC\" : \"UPGRADE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: machineState.matches(\"saveFailure\"),\n        children: /*#__PURE__*/_jsxDEV(SaveError, {\n          code: machineState.context.errorCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Banner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(App, \"xXsMP6cC1ZPRyalKNrYvqC/C6ak=\", false, function () {\n  return [useService];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/jacob/Documents/Programming/myApp/src/dapp/App.tsx"],"names":["React","Modal","useService","Banner","service","Charity","Connecting","Welcome","Creating","Saving","Error","TimerComplete","Unsupported","SaveError","GasWarning","Farm","Crafting","App","machineState","send","useEffect","window","ethereum","on","console","log","accounts","getStarted","createFarm","donation","charity","value","matches","context","errorCode","gasPrice","blockChain","totalSupply","isUnsaved"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { useService } from \"@xstate/react\";\n\nimport { Banner } from \"./components/ui/HalveningBanner\";\nimport {\n  service,\n  Context,\n  BlockchainEvent,\n  BlockchainState,\n} from \"./machine\";\n\nimport { Donation } from \"./types/contract\";\n\nimport {\n  Charity,\n  Connecting,\n  Welcome,\n  Creating,\n  Saving,\n  Error,\n  TimerComplete,\n  Unsupported,\n  SaveError,\n  GasWarning,\n} from \"./components/modals\";\n\nimport Farm from \"./components/farm/Farm\";\n\nimport \"./App.css\";\nimport { Crafting } from \"./components/modals/Crafting\";\n\nexport const App: React.FC = () => {\n  const [machineState, send] = useService<\n    Context,\n    BlockchainEvent,\n    BlockchainState\n  >(service);\n\n  React.useEffect(() => {\n    if (window.ethereum) {\n      window.ethereum.on(\"networkChanged\", () => {\n        console.log(\"Network changed\");\n        send(\"NETWORK_CHANGED\");\n      });\n\n      window.ethereum.on(\"accountsChanged\", function (accounts) {\n        send(\"ACCOUNT_CHANGED\");\n      });\n    }\n  }, [send]);\n\n  const getStarted = () => {\n    send(\"GET_STARTED\");\n  };\n\n  const createFarm = (donation: Donation) => {\n    send(\"DONATE\", {\n      donation: { charity: donation.charity, value: donation.value },\n    });\n  };\n\n  return (\n    <>\n      <div id=\"container\">\n        <Farm />\n\n        <Modal centered show={machineState.matches(\"loading\")}>\n          <Connecting />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"unsupported\")}>\n          <Unsupported />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"initial\")}>\n          <Welcome onGetStarted={getStarted} />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"registering\")}>\n          <Charity onSelect={createFarm} />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"creating\")}>\n          <Creating />\n        </Modal>\n\n        <Modal\n          centered\n          show={\n            machineState.matches(\"confirming\") ||\n            machineState.matches(\"upgrading\") ||\n            machineState.matches(\"rewarding\") ||\n            machineState.matches(\"collecting\")\n          }\n        >\n          <Saving />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"crafting\")}>\n          <Crafting />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"timerComplete\")}>\n          <TimerComplete />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"failure\")}>\n          <Error code={machineState.context.errorCode} />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"warning\")}>\n          <GasWarning\n            gasPrice={machineState.context.gasPrice}\n            supply={machineState.context.blockChain.totalSupply()}\n            action={\n              machineState.context.blockChain.isUnsaved()\n                ? \"SYNC\"\n                : \"UPGRADE\"\n            }\n          />\n        </Modal>\n\n        <Modal centered show={machineState.matches(\"saveFailure\")}>\n          <SaveError code={machineState.context.errorCode} />\n        </Modal>\n      </div>\n      <Banner />\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}